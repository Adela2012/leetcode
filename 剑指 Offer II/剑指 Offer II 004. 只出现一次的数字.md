# 剑指 Offer II 004. 只出现一次的数字 

给你一个整数数组 nums ，除某个元素仅出现 一次 外，其余每个元素都恰出现 三次 。请你找出并返回那个只出现了一次的元素。

 
示例 1：
```
输入：nums = [2,2,3,2]
输出：3
```
示例 2：
```
输入：nums = [0,1,0,1,0,1,100]
输出：100
```

提示：
```
1 <= nums.length <= 3 * 104
-231 <= nums[i] <= 231 - 1
nums 中，除某个元素仅出现 一次 外，其余每个元素都恰出现 三次
```
 

进阶：你的算法应该具有线性时间复杂度。 你可以不使用额外空间来实现吗？

 

注意：本题与主站 137 题相同：https://leetcode-cn.com/problems/single-number-ii/

# 解题
1. 从二进制的低位开始像高位遍历，依次确定每一个二进制位
2. 逐位遍历nums的值，计算该位上1的数量count，即(n >> i) & 1
3. 如果count不能被3整除，说明该位上的1为仅出现一次的元素，执行 res |= 1 << i
4. 最后返回res

例如 nums = [2,2,3,2]
数字|31|...|2|1|0
--|--|--|--|--|--
2|0|...|0|1|0
2|0|...|0|1|0
3|0|...|0|1|1
2|0|...|0|1|0
count|0|...|0|4|1
res|0|...|0|1|1


```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var singleNumber = function(nums) {
    let res = 0
    for (let i = 0; i < 32; i++) {
        let count = 0
        for (let n of nums) {
            if ((n >> i) & 1) count++
        }
        if (count % 3 == 1) res |= 1 << i
    }
    return res
};
```
- 时间复杂度O(N)
- 空间复杂度O(1)